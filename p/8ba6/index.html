<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>安装 ImageMagick 扩展 | 定の栈</title><meta name="author" content="Asuna"><meta name="copyright" content="Asuna"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="安装ImageMagick扩展以供WP使用"><meta property="og:type" content="article"><meta property="og:title" content="安装 ImageMagick 扩展"><meta property="og:url" content="https://blog.saop.cc/p/8ba6/"><meta property="og:site_name" content="定の栈"><meta property="og:description" content="安装ImageMagick扩展以供WP使用"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://blog.saop.cc/img/cover/cover117.webp"><meta property="article:published_time" content="2023-01-30T20:00:00.000Z"><meta property="article:modified_time" content="2023-01-30T20:00:00.000Z"><meta property="article:author" content="Asuna"><meta property="article:tag" content="框架"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://blog.saop.cc/img/cover/cover117.webp"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "安装 ImageMagick 扩展",
  "url": "https://blog.saop.cc/p/8ba6/",
  "image": "https://blog.saop.cc/img/cover/cover117.webp",
  "datePublished": "2023-01-30T20:00:00.000Z",
  "dateModified": "2023-01-30T20:00:00.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "Anthony Bouch",
      "url": "https://blog.saop.cc"
    }
  ]
}</script><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="https://blog.saop.cc/p/8ba6/"><link rel="preconnect" href="//unpkg.com"><meta name="google-site-verification" content="Makh0QpTE_cFQ_WZF3qShdl6cTicB36RA97vazztCDg"><meta name="baidu-site-verification" content="codeva-oV9XyQ5XHo"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://registry.npmmirror.com/@fortawesome/fontawesome-free/latest/files/css/all.min.css"><link rel="stylesheet" href="https://npm.elemecdn.com/node-snackbar/dist/snackbar.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://registry.npmmirror.com/@fancyapps/ui/latest/files/dist/fancybox/fancybox.css" media="print" onload='this.media="all"'><script>(()=>{const t={set:(e,t,o)=>{if(!o)return;const a=Date.now()+864e5*o;localStorage.setItem(e,JSON.stringify({value:t,expiry:a}))},get:e=>{const t=localStorage.getItem(e);if(!t)return;const{value:o,expiry:a}=JSON.parse(t);if(!(Date.now()>a))return o;localStorage.removeItem(e)}};window.btf={saveToLocal:t,getScript:(e,t={})=>new Promise((o,a)=>{const n=document.createElement("script");n.src=e,n.async=!0,Object.entries(t).forEach(([e,t])=>n.setAttribute(e,t)),n.onload=n.onreadystatechange=()=>{n.readyState&&!/loaded|complete/.test(n.readyState)||o()},n.onerror=a,document.head.appendChild(n)}),getCSS:(e,t)=>new Promise((o,a)=>{const n=document.createElement("link");n.rel="stylesheet",n.href=e,t&&(n.id=t),n.onload=n.onreadystatechange=()=>{n.readyState&&!/loaded|complete/.test(n.readyState)||o()},n.onerror=a,document.head.appendChild(n)}),addGlobalFn:(e,t,o=!1,a=window)=>{const n=a.globalFn||{};n[e]=n[e]||{},n[e][o||Object.keys(n[e]).length]=t,a.globalFn=n}};const o=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},a=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","ffffff")};btf.activateDarkMode=o,btf.activateLightMode=a;const n=t.get("theme"),c=window.matchMedia("(prefers-color-scheme: dark)"),r=window.matchMedia("(prefers-color-scheme: light)");if(void 0===n){if(r.matches)a();else if(c.matches)o();else{const e=(new Date).getHours();e<=6||e>=18?o():a()}c.addEventListener("change",()=>{void 0===t.get("theme")&&(e.matches?o():a())})}else"light"===n?a():o();const d=t.get("aside-status");void 0!==d&&document.documentElement.classList.toggle("hide-aside","hide"===d);/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})()</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-6697180171908958",enable_page_level_ads:"true"})</script><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.json",preload:!1,top_n_per_article:3,unescape:!0,pagination:{enable:!0,hitsPerPage:8},languages:{hits_empty:"未找到符合您查询的内容：${query}",hits_stats:"共找到 ${hits} 篇文章"}},translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"簡"},highlight:{plugin:"prismjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:230,highlightFullpage:!0,highlightMacStyle:!0},copy:{success:"复制成功",error:"复制失败",noSupport:"浏览器不支持"},relativeDate:{homepage:!0,post:!0},runtime:"天",dateSuffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:{limitCount:150,languages:{author:"作者: Asuna",link:"链接: ",source:"来源: 定の栈",info:"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},lightbox:"fancybox",Snackbar:{chs_to_cht:"已切换为繁体中文",cht_to_chs:"已切换为简体中文",day_to_night:"已切换为深色模式",night_to_day:"已切换为浅色模式",bgLight:"#49b1f5",bgDark:"#1f1f1f",position:"top-right"},infinitegrid:{js:"https://registry.npmmirror.com/@egjs/infinitegrid/latest/files/dist/infinitegrid.min.js",buttonText:"加载更多"},isPhotoFigcaption:!0,islazyloadPlugin:!0,isAnchor:!0,percent:{toc:!0,rightside:!0},autoDarkmode:!0}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"安装 ImageMagick 扩展",isHighlightShrink:!1,isToc:!0,pageType:"post"}</script><link rel="stylesheet" href="https://registry.npmmirror.com/element-ui/latest/files/packages/theme-chalk/lib/index.css"><link rel="stylesheet" href="https://registry.npmmirror.com/weblive2d/latest/files/waifu.css"><link rel="stylesheet" href="/css/custom.css" media="defer" onload='this.media="all"'><span id="fps"></span><meta name="generator" content="Hexo 8.0.0"><link rel="alternate" href="/atom.xml" title="定の栈" type="application/atom+xml">
<link rel="alternate" href="/rss2.xml" title="定の栈" type="application/rss+xml">
</head><body><script>window.paceOptions={restartOnPushState:!1},btf.addGlobalFn("pjaxSend",()=>{Pace.restart()},"pace_restart")</script><link rel="stylesheet" href="https://registry.npmmirror.com/pace-js/latest/files/themes/blue/pace-theme-flash.css"><script src="https://registry.npmmirror.com/pace-js/latest/files/pace.min.js"></script><div id="web_bg" style="background-image:url(https://registry.npmmirror.com/js-asuna/latest/files/pic/Asuna/Asuna16x9.webp)"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/loading.gif" data-lazy-src="/img/avatar.webp" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">69</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><div class="menus_items"><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-book"></i><span> 文章</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-box-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/shuoshuo/"><i class="fa-fw fas fa-lightbulb"></i><span> 说说</span></a></li></ul></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fas fa-mug-hot"></i><span> 休闲</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> 图库</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/video/"><i class="fa-fw fas fa-video"></i><span> 视频</span></a></li><li><a class="site-page child" href="/movie/"><i class="fa-fw fas fa-film"></i><span> 电影</span></a></li><li><a class="site-page child" href="/mai/"><i class="fa-fw fas fa-life-ring"></i><span> 舞萌</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://cloud.saop.cc/"><i class="fa-fw fas fa-cloud"></i><span> 云盘</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://drive.saop.cc/"><i class="fa-fw fas fa-hard-drive"></i><span> 网盘</span></a></li></ul></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fas fa-paperclip"></i><span> 社交</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友人帐</span></a></li><li><a class="site-page child" href="/comments/"><i class="fa-fw fas fa-comment-dots"></i><span> 留言板</span></a></li><li><a class="site-page child" href="/donate/"><i class="fa-fw fas fa-hand-holding-dollar"></i><span> 赞助墙</span></a></li><li><a class="site-page child" href="/atom.xml"><i class="fa-fw fas fa-rss"></i><span> RSS订阅</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://foreverblog.cn/go.html"><i class="fa-fw fas fa-bore-hole"></i><span> 虫洞</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://storeweb.cn/s/2032"><i class="fa-fw fas fa-dice"></i><span> 个站商店虫洞</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://www.travellings.cn/go.html"><i class="fa-fw fas fa-shuffle"></i><span> 开往</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">定の栈</span></a><a class="nav-page-title" href="/"><span class="site-name">安装 ImageMagick 扩展</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span> 返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-book"></i><span> 文章</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-box-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/shuoshuo/"><i class="fa-fw fas fa-lightbulb"></i><span> 说说</span></a></li></ul></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fas fa-mug-hot"></i><span> 休闲</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> 图库</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/video/"><i class="fa-fw fas fa-video"></i><span> 视频</span></a></li><li><a class="site-page child" href="/movie/"><i class="fa-fw fas fa-film"></i><span> 电影</span></a></li><li><a class="site-page child" href="/mai/"><i class="fa-fw fas fa-life-ring"></i><span> 舞萌</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://cloud.saop.cc/"><i class="fa-fw fas fa-cloud"></i><span> 云盘</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://drive.saop.cc/"><i class="fa-fw fas fa-hard-drive"></i><span> 网盘</span></a></li></ul></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fas fa-paperclip"></i><span> 社交</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友人帐</span></a></li><li><a class="site-page child" href="/comments/"><i class="fa-fw fas fa-comment-dots"></i><span> 留言板</span></a></li><li><a class="site-page child" href="/donate/"><i class="fa-fw fas fa-hand-holding-dollar"></i><span> 赞助墙</span></a></li><li><a class="site-page child" href="/atom.xml"><i class="fa-fw fas fa-rss"></i><span> RSS订阅</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://foreverblog.cn/go.html"><i class="fa-fw fas fa-bore-hole"></i><span> 虫洞</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://storeweb.cn/s/2032"><i class="fa-fw fas fa-dice"></i><span> 个站商店虫洞</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://www.travellings.cn/go.html"><i class="fa-fw fas fa-shuffle"></i><span> 开往</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></li></ul></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">安装 ImageMagick 扩展<a class="post-edit-link" href="https://github.com/AdingApkgg/blog/edit/main/source/_posts/2023-01-31-安装ImageMagick扩展.md" rel="external nofollow noreferrer" title="编辑" target="_blank"><i class="fas fa-pencil-alt"></i></a></h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-01-30T20:00:00.000Z" title="发表于 2023-01-31 04:00:00">2023-01-31</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-01-30T20:00:00.000Z" title="更新于 2023-01-31 04:00:00">2023-01-31</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%BD%AC%E8%BD%BD/">转载</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>7分钟</span></span><span class="post-meta-separator">|</span><span data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="twikoo_visitors"><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/p/8ba6/#post-comment"><span id="twikoo-count"><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div><article class="container post-content" id="article-container"><div id="post-outdate-notice" data="{&quot;limitDay&quot;:90,&quot;messagePrev&quot;:&quot;此文章距离上次更新已过&quot;,&quot;messageNext&quot;:&quot;天，文章的内容可能过时。&quot;,&quot;postUpdate&quot;:&quot;2023-01-31 04:00:00&quot;}" hidden></div><div class="note info simple"><p>参考：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.imooc.com/u/6798278/bbs">神不在的星期二</a></p></div><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><p>最终，我最终写了一个<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.58bits.com/blog/2018/04/23/installing-imagemagick-use-php-and-iis-windows-server-2012r2-and-windows-10">博客文章</a>，该<a target="_blank" rel="noopener external nofollow noreferrer" href="https://stackoverflow.com/questions/46960358/how-can-i-install-imagemagick-the-oct-2017-version-for-use-from-php-in-iis-on">文章</a>是 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://stackoverflow.com/users/706595/philipd">PhilipD</a> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://stackoverflow.com/questions/46960358/how-can-i-install-imagemagick-the-oct-2017-version-for-use-from-php-in-iis-on">删除的帖子</a>的<a target="_blank" rel="noopener external nofollow noreferrer" href="https://stackoverflow.com/questions/46960358/how-can-i-install-imagemagick-the-oct-2017-version-for-use-from-php-in-iis-on">重新发布，该帖子</a>以错误的格式发布且未得到更正。所以问题被删除了。</p><p>我在这里重新发布 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://stackoverflow.com/users/706595/philipd">PhilipD</a> 的答案，这样可以使遇到相同问题的人更容易找到它，因为花了半天的时间才找到有效的<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.58bits.com/blog/2018/04/23/installing-imagemagick-use-php-and-iis-windows-server-2012r2-and-windows-10">博客文章</a>。这些步骤详细介绍了 32 位安装。我为我的 64 位 php 执行了 64 位安装。</p><p>该服务器位于 Windows Server 2012R2（64 位）服务器上，使用 IIS 作为 Web 服务器应用程序。但是，我安装了所有与 ImageMagick 相关的软件的 32 位版本，因为 Web 服务器应用程序（IIS）是 32 位的。以下显示了截至 2017 年 10 月的最新 / 最新版本。</p><h2 id="下载-imagemagick-安装程序"><a class="markdownIt-Anchor" href="#下载-imagemagick-安装程序"></a> 下载 ImageMagick 安装程序</h2><p>前往 <a target="_blank" rel="noopener external nofollow noreferrer" href="http://www.imagemagick.org/">http://www.imagemagick.org/</a></p><p>点击菜单栏中的 “下载”</p><p>然后，顶部链接中的 “ <a target="_blank" rel="noopener external nofollow noreferrer" href="http://www.imagemagick.org/script/download.php#windows">Windows Binary Releases</a> ” 或向下滚动</p><p>选择 “Win32 动态像素每像素 16 位”，请确保选择动态组件而不是静态组件。</p><h2 id="下载用于-imagemagick-的-php-模块"><a class="markdownIt-Anchor" href="#下载用于-imagemagick-的-php-模块"></a> 下载用于 ImageMagick 的 php 模块</h2><p>转到 <a target="_blank" rel="noopener external nofollow noreferrer" href="http://windows.php.net/downloads/pecl/releases/imagick/">http://windows.php.net/downloads/pecl/releases/imagick/</a></p><p>选择不是 “RC”（发行候选）版本的最高版本–当前为 3.4.3</p><p>选择用于 VC14，x86 和 IIS 的 “NTS”（非线程安全）的 PHP（7.1）版本的条目</p><p>下载并保存 ZIP 文件。</p><h2 id="下载-php-的依赖包以加载-使用-imagemagick"><a class="markdownIt-Anchor" href="#下载-php-的依赖包以加载-使用-imagemagick"></a> 下载 PHP 的依赖包，以加载 / 使用 ImageMagick</h2><p>转到 <a target="_blank" rel="noopener external nofollow noreferrer" href="http://windows.php.net/downloads/pecl/deps/">http://windows.php.net/downloads/pecl/deps/</a></p><p>选择具有最高版本号的 “ImageMagick” 程序包</p><p>* 请注意，该版本可能与上述（1.）中的版本不同</p><p>选择 “vc14” 和 “ x86” 版本 *</p><h2 id="取消阻止每个下载的文件"><a class="markdownIt-Anchor" href="#取消阻止每个下载的文件"></a> 取消阻止每个下载的文件</h2><p>根据下载方式的不同，这可能有必要，也可能没有必要，但是如果需要，应始终检查并 “取消阻止” 下载的文件。</p><p>右键单击每个文件，然后从弹出菜单中选择 “属性”</p><p>如果属性对话框显示文本 “此文件来自另一台计算机，可能被阻止以帮助保护此计算机”，</p><p>点击 “取消阻止” 按钮</p><p>单击确定。</p><p>如果您不 “取消阻止” 下载的文件，尤其是 ZIP 文件，则仍可以将已安装或复制的单个文件标记为 “阻止”，这有时会在运行软件时引起一些奇怪的问题。</p><h2 id="安装-imagick-应用程序"><a class="markdownIt-Anchor" href="#安装-imagick-应用程序"></a> 安装 Imagick 应用程序</h2><p>以管理员身份运行 ImageMagick-7.0.7-8-Q16-x86-dll.exe 进行安装</p><p>接受许可协议</p><p>在安装过程中的每个屏幕上接受默认设置。</p><p>安装完成后，要测试安装是否成功，请打开命令提示符并运行以下两个命令：</p><p><strong>magick wizard: wizard.jpg</strong><br><strong>magick wizard.jpg win:</strong><br>这将显示一个 “IMDisplay” 窗口，该窗口显示在画架上创建蒙娜丽莎肖像的向导的素描 / 图像。</p><h2 id="安装依赖项"><a class="markdownIt-Anchor" href="#安装依赖项"></a> 安装依赖项</h2><p>解压缩您在步骤 3 中下载的文件。</p><p>进入 bin 目录</p><p>将 <strong>IM<em>MOD_RL</em>*.dll</strong> 文件（125 个文件）复制到 ImageMagick 的已安装版本的文件夹中，例如 <strong>C:\Program Files (x86)\ImageMagick-7.0.7-Q16</strong></p><p>返回到 bin 目录</p><p>将 <strong>CORE<em>RL</em>*.dll</strong> 文件（20 个文件）复制到 ImageMagick 的已安装版本的文件夹中，例如 <strong>C:\Program Files (x86)\ImageMagick-7.0.7-Q16*</strong> * 在提示您要覆盖 / 重命名的情况下，选择 “覆盖”</p><p>请注意，这将破坏 Imagick 的命令版本。magick：错误的 JPEG 库版本：库为 80，呼叫者期望为 62</p><h2 id="安装-imagick-php-扩展-dll"><a class="markdownIt-Anchor" href="#安装-imagick-php-扩展-dll"></a> 安装 Imagick php 扩展 dll</h2><p>解压在步骤 2 中下载的文件。</p><p>将文件复制 <strong>php_imagick.dll</strong> 到服务器上已安装版本的 PHP 的 “ext” 文件夹中，例如 <strong>C:\php\7.1\ext</strong>。</p><p>不要复制 <strong>CORE<em>RL</em> *</strong> 文件</p><p>在 Web 上的某些文章中，您将看到也从该工具包复制 CORE<em>RL</em> * 文件以替换 ImageMagick 文件夹中的文件的说明，但这是不正确的。在步骤 6 中复制了这些文件的适当版本。</p><h2 id="修改-phpini"><a class="markdownIt-Anchor" href="#修改-phpini"></a> 修改 PHP.ini</h2><p>编辑 PHP 软件文件夹中的 php.ini 文件，例如 “C：\ PHP \ 7.1 \ php.ini”</p><p>将以下行添加到包含其他扩展名的部分：</p><p><strong>extension=php_imagick.dll</strong></p><h2 id="重新启动服务器"><a class="markdownIt-Anchor" href="#重新启动服务器"></a> 重新启动服务器。</h2><p>重新启动 IIS 似乎还不够，您需要重新启动整个计算机。这可能与 IIS 无法识别 Imagick 输入的 PATH 条目有关。</p><h2 id="测试-phpinfo"><a class="markdownIt-Anchor" href="#测试-phpinfo"></a> 测试 PHPINFO</h2><p>在 Web 根目录中创建一个 PHP 文件，其中包含以下内容：</p><p>在网络浏览器中访问此文件，</p><p>搜索现在应该存在于 PHPINFO 输出中的 “Imagick” 部分。</p><p>它应如下所示：</p><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">imagick imagick 模块：启用了 imagick 模块版本 3.4.3
imagick 类 Imagick，ImagickDraw，ImagickPixel，ImagickPixelIterator，ImagickKernel
Imagick 使用 ImageMagick 版本 ImageMagick 编译的版本 6.9.3-7 Q16 x86 2016-03-27 http://www.imagemagick.org
Imagick 使用 ImageMagick 库版本 ImageMagick 6.9.3-7 Q16 x86 2016-03-27 http://www.imagemagick.org
ImageMagick 版权所有（C）1999-2015 ImageMagick Studio LLC
ImageMagick 发布日期 2016-03-27
ImageMagick 支持的数量格式：216
ImageMagick 支持的格式 3FR，AAI，AI，ART，ARW，AVI，AVS，BGR，BGRA，BGRO，BIE，BMP，BMP2，BMP3，BRF，CAL，CALS，CANVAS，CAPTION，CIN，CIP，CLIP，CLIPBOARD，CMYK ，CMYKA，CR2，CRW，CUR，剪切，数据，DCM，DCR，DCX，DDS，DFONT，DJVU，DNG，DOT，DPS，DPX，DXT1，DXT5，EMF，EPDF，EPI，EPS，EPS2，EPS3，EPSF ，EPSI，EPT，EPT2，EPT3，ERF，EXR，传真，FITS，FPX，分形，FTS，G3，GIF，GIF87，梯度，灰色，GROUP4，GV，H，HALD，HDR，直方图，HRZ，HTM，HTML ，ICB，ICO，ICON，IIQ，INFO，INLINE，IPL，ISOBRL，ISOBRL6，J2C，J2K，JBG，JBIG，JNX，JP2，JPC，JPM，JPT，JSON，K25，KDC，LABEL，M2V，M4V，MAC ，MAGICK，MAP，MASK，MAT，MATTE，MEF，MIFF，MKV，MONO，MOV，MP4，MPC，MPEG，MPG，MRW，MSL，MTV，MVG，NEF，NRW，NULL，ORF，OTB，OTF，PAL ，PALM，PAM，PATTERN，PBM，PCD，PCDS，PCL，PCT，PCX，PDB，PDF，PDFA，PEF，PES，PFA，PFB，PFM，PGM，PICON，PICT，PIX，PLASMA，PNM，PPM，预览，PS，PS2，PS3，PSB，PSD，PTIF，PWP，径向梯度，RAF，RAS，RAW，RGB，RGBA，RGBO，RGF，RLA，RLE，RMF，RW2，SCR，SCREENSHOT，SCT， SFW，SGI，SHTML，SIX，SIXEL，稀疏颜色，SR2，SRF，STEGANO，SUN，TEXT，TGA，THUMBNAIL，TIFF，TIFF64，TILE，TIM，TTC，TTF，TXT，UBT，UBRL6，UIL，UYVY， VDA，VICAR，VID，VIFF，VIPS，VST，WBMP，WEBP，WMF，WMV，WPG，X3F，XBM，XC，XCF，XPM，XPS，XV，YCbCr，YCbCrA，YUV<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>重要说明：</strong><br>如果 “受支持的格式” 部分未显示任何格式，或仅显示了少量格式，则最可能的原因是您错过了将一个或多个 IM<em>MOD_RL</em> _ 或 CORE<em>RL</em> _ DLL 文件复制到 ImageMagick 文件夹中的操作，或者您从 “ php_magick” 工具包中复制了它们。</p><h2 id="在-php-中使用-imagemagick-测试图像生成"><a class="markdownIt-Anchor" href="#在-php-中使用-imagemagick-测试图像生成"></a> 在 PHP 中使用 ImageMagick 测试图像生成</h2><p>在 Web 根目录中创建一个 PHP 文件，其中包含以下内容（我从 “验证 ImageMagick 安装” 此项中的一项输入中复制了该文件）：</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token function">error_reporting</span><span class="token punctuation">(</span><span class="token constant">E_ALL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">ini_set</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'display_errors'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* Create a new imagick object */</span>

<span class="token variable">$im</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Imagick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* Create new image. This will be used as fill pattern */</span>

<span class="token variable">$im</span><span class="token operator">-></span><span class="token function">newPseudoImage</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"gradient:red-black"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* Create imagickdraw object */</span>

<span class="token variable">$draw</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ImagickDraw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* Start a new pattern called "gradient" */</span>

<span class="token variable">$draw</span><span class="token operator">-></span><span class="token function">pushPattern</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'gradient'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* Composite the gradient on the pattern */</span>

<span class="token variable">$draw</span><span class="token operator">-></span><span class="token function">composite</span><span class="token punctuation">(</span><span class="token class-name static-context">Imagick</span><span class="token operator">::</span><span class="token constant">COMPOSITE_OVER</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token variable">$im</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* Close the pattern */</span>

<span class="token variable">$draw</span><span class="token operator">-></span><span class="token function">popPattern</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* Use the pattern called "gradient" as the fill */</span>

<span class="token variable">$draw</span><span class="token operator">-></span><span class="token function">setFillPatternURL</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'#gradient'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* Set font size to 52 */</span>

<span class="token variable">$draw</span><span class="token operator">-></span><span class="token function">setFontSize</span><span class="token punctuation">(</span><span class="token number">52</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* Annotate some text */</span>

<span class="token variable">$draw</span><span class="token operator">-></span><span class="token function">annotation</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"Hello World!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* Create a new canvas object and a white image */</span>

<span class="token variable">$canvas</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Imagick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$canvas</span><span class="token operator">-></span><span class="token function">newImage</span><span class="token punctuation">(</span><span class="token number">350</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"white"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* Draw the ImagickDraw on to the canvas */</span>

<span class="token variable">$canvas</span><span class="token operator">-></span><span class="token function">drawImage</span><span class="token punctuation">(</span><span class="token variable">$draw</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* 1px black border around the image */</span>

<span class="token variable">$canvas</span><span class="token operator">-></span><span class="token function">borderImage</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'black'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* Set the format to PNG */</span>

<span class="token variable">$canvas</span><span class="token operator">-></span><span class="token function">setImageFormat</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* Output the image */</span>

<span class="token function">header</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Content-Type: image/png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">echo</span> <span class="token variable">$canvas</span><span class="token punctuation">;</span>

<span class="token delimiter important">?></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在浏览器中运行此 PHP 文件。它应该显示一个包含文本 “Hello World！” 的图像。</p><h2 id="检查错误"><a class="markdownIt-Anchor" href="#检查错误"></a> 检查错误</h2><p>检查 php-errors.log 文件是否有任何错误。</p><p>您可以在 php.ini 文件中找到 php-errors.log 文件的定义位置。检查此文件中是否有与 ImageMagick 安装相关的最新错误。</p><h2 id="pdf-文件需要-ghostscript"><a class="markdownIt-Anchor" href="#pdf-文件需要-ghostscript"></a> PDF 文件需要 Ghostscript</h2><p>安装并完成上述所有操作后，ImageMagick 可以在 PHP 中用于转换图像，但不能用于将 PDF 文件转换为图像。对于最后一步，似乎也有必要从 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.ghostscript.com/download/gsdnld.html">https://www.ghostscript.com/download/gsdnld.html</a> 安装 Ghostscript，并且只有在我安装了 64 位版本的 Ghostscript 的情况下，它才能正常工作（即使一切否则我安装的是 32 位版本）。仅需安装 Ghostscript。无需更改 php.ini 或任何其他配置。</p></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%A1%86%E6%9E%B6/">框架</a></div><div class="post-share"><div class="social-share" data-image="/img/cover/cover117.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://npm.elemecdn.com/social-share.js/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://npm.elemecdn.com/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>赞助</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechatpay.webp" target="_blank"><img class="post-qr-code-img" src="/img/loading.gif" data-lazy-src="/img/wechatpay.webp" alt="微信"></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/alipay.webp" target="_blank"><img class="post-qr-code-img" src="/img/loading.gif" data-lazy-src="/img/alipay.webp" alt="支付宝"></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/p/7e2d/" title="使 WP 的 URL 链接支持中文"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/202305182239880.webp" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">使 WP 的 URL 链接支持中文</div></div><div class="info-2"><div class="info-item-1">网站访问中文 URL 时遭遇 404 设置了 WordPress 的固定链接为文章名 % postname%，然后标题还是中文的，访问时遭遇 404。 分类名和标签名是中文的，访问时遭遇 404。 URL 链接中带有中文字符或符号等。 生成的 url 就会因为含有中文而无法被支持，显示 404。 解决方法 进入站点目录下的 wp-includes 目录，编辑 class-wp.php 文件。 找到$pathinfo = isset( $_SERVER['PATH_INFO'] ) ? $_SERVER['PATH_INFO'] : ''; 可以直接搜索$_SERVER['PATH_INFO'] 将这行的第二个$_SERVER['PATH_INFO']替换为mb_convert_encoding($_SERVER['PATH_INFO'], 'UTF-8', 'GBK') 再找到list( $req_uri ) = explode( '?', $_SERVER['REQUEST_URI'] ); 将$_SERVER['REQUEST_URI']替换为mb_...</div></div></div></a><a class="pagination-related" href="/p/3155/" title="原神私服游玩教程整合"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/202305182239882.webp" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">原神私服游玩教程整合</div></div><div class="info-2"><div class="info-item-1">这里整合了关于原神大部分私服的游玩教程！ 快速游玩 安卓玩家点这 PC玩家点这 IOS玩家点这 Linux玩家点这 服务器索引 寒阳幽月 二进制原神公益 S-W TomyJan 公益服 元神归位 八重堂 GalaxyHorizon Daker 光遇原神 天理游戏 小胖原神 梦幻之云 Ayaka 公益 香草日记 养老原神 诛仙原神 老年原神 方神原神 NiceTry 社区服 琉璃神社 天域原神 夜兰原神 他没有名字 奥特曼原神 云理指令服 小米原神 原神公益服 小鸟原神 联机原神私服 单机体验私服 刀锋原神 新爷原神 历史留档 留档一般不用看 电脑 Windows 视窗系统教程 开始前的准备工作 PC电脑系统要Win10以上，Win7 系统也不是不能兼容，但是很大概率不行，建议还是升级到Win10 关掉或删掉一切杀毒软件！！ 首先需要已经安装了官服（国服）或者国际服的游戏本体，不能是 B 服！ 没有官服（国服）或者国际服就先去原神官网下载安装先… 原神国服官网：https://ys.mihoyo.com/main 原神国际服官网：https://genshin.h...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/p/hello-world/" title="Hello World"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/202305182239875.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-06</div><div class="info-item-2">Hello World</div></div><div class="info-2"><div class="info-item-1">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick Start Create a new post $ hexo new "My New Post" More info: Writing Run server $ hexo server More info: Server Generate static files $ hexo generate More info: Generating Deploy to remote sites $ hexo deploy More info: Deployment</div></div></div></a><a class="pagination-related" href="/p/7e2d/" title="使 WP 的 URL 链接支持中文"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/202305182239880.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-31</div><div class="info-item-2">使 WP 的 URL 链接支持中文</div></div><div class="info-2"><div class="info-item-1">网站访问中文 URL 时遭遇 404 设置了 WordPress 的固定链接为文章名 % postname%，然后标题还是中文的，访问时遭遇 404。 分类名和标签名是中文的，访问时遭遇 404。 URL 链接中带有中文字符或符号等。 生成的 url 就会因为含有中文而无法被支持，显示 404。 解决方法 进入站点目录下的 wp-includes 目录，编辑 class-wp.php 文件。 找到$pathinfo = isset( $_SERVER['PATH_INFO'] ) ? $_SERVER['PATH_INFO'] : ''; 可以直接搜索$_SERVER['PATH_INFO'] 将这行的第二个$_SERVER['PATH_INFO']替换为mb_convert_encoding($_SERVER['PATH_INFO'], 'UTF-8', 'GBK') 再找到list( $req_uri ) = explode( '?', $_SERVER['REQUEST_URI'] ); 将$_SERVER['REQUEST_URI']替换为mb_...</div></div></div></a><a class="pagination-related" href="/p/b45a/" title="Hexo 下 Markdown 语法失效总结"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/cover123.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-02-15</div><div class="info-item-2">Hexo 下 Markdown 语法失效总结</div></div><div class="info-2"><div class="info-item-1">参考：hexo 下 Markdown 语法失效总结 问题汇总 多级有序列表序号显示异常问题 table 表格显示异常，不显示问题 多级有序列表序号显示异常 Markdown 无法实现&quot;多级有序列表&quot;, 而且在&quot;有序列表&quot;中断时, 会重新从 1 开始排序。即在 sublime text 中，正常显示的有序序列，写 hexo 静态 blog 显示异常，如下图。 解决 直接删除上一个序号最后与本序号之间的空行 发现了一篇解决方案hexo 下 markdown 语法 有序列表序号不匹配 他是在序号之间的每一段正文左侧添加空格，但是并没有解决我的问题。我又尝试着把序号最后与下一个序号之间的空行删掉，问题竟然解决了。 存在问题 我在解决了下一个表格不显示问题之后，发现序号展示又异常了。因为表格需要与上方正文之间有两个空行。因此，序号正常显示和表格正常显示只能选择一种。现在我还没有找到两全其美的方法。如果你解决了，请在下方评论留言。 结果展示 读《HTTP 图解》-Chapt 2 table 表格显示异常，不显示 table 表格显示...</div></div></div></a></div></div><hr class="custom-hr"><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div><div class="comment-switch"><span class="first-comment">Twikoo</span><span id="switch-btn"></span><span class="second-comment">Waline</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div><div><div id="waline-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/loading.gif" data-lazy-src="/img/avatar.webp" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info-name">Asuna</div><div class="author-info-description">LINK START!</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">69</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="//saop.cc"><i class="fa fa-house"></i><span>前往主页</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/AdingApkgg" rel="external nofollow noreferrer" target="_blank" title="GitHub"><i class="fab fa-github" style="color:#24292e"></i></a><a class="social-icon" href="mailto:AdingApkgg@outlook.com" rel="external nofollow noreferrer" target="_blank" title="邮箱"><i class="fas fa-envelope" style="color:#4a7dbe"></i></a><a class="social-icon" href="/img/wechat.webp" target="_blank" title="微信"><i class="fab fa-weixin" style="color:#1aad19"></i></a><a class="social-icon" href="https://wpa.qq.com/msgrd?v=3&amp;uin=1679456234&amp;site=qq&amp;menu=yes" rel="external nofollow noreferrer" target="_blank" title="QQ"><i class="fab fa-qq" style="color:#2aa7e3"></i></a><a class="social-icon" href="https://space.bilibili.com/1198037522" rel="external nofollow noreferrer" target="_blank" title="B站"><i class="fab fa-bilibili" style="color:#00a4da"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">IE 大哥太强了，这 Bug 不修了我，本站如果出现非正常现象，请 Ctrl+F5 强制刷新，或更换 Chrome，Microsoft Edge，Firefox，Safari 等浏览器使用。<div class="social-button"><a class="button--animated" href="//t.me/FullDiveSAO" rel="external nofollow noreferrer" target="_blank">👉 TG 交流群 👈</a></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E"><span class="toc-number">1.</span> <span class="toc-text">说明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD-imagemagick-%E5%AE%89%E8%A3%85%E7%A8%8B%E5%BA%8F"><span class="toc-number">2.</span> <span class="toc-text">下载 ImageMagick 安装程序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD%E7%94%A8%E4%BA%8E-imagemagick-%E7%9A%84-php-%E6%A8%A1%E5%9D%97"><span class="toc-number">3.</span> <span class="toc-text">下载用于 ImageMagick 的 php 模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD-php-%E7%9A%84%E4%BE%9D%E8%B5%96%E5%8C%85%E4%BB%A5%E5%8A%A0%E8%BD%BD-%E4%BD%BF%E7%94%A8-imagemagick"><span class="toc-number">4.</span> <span class="toc-text">下载 PHP 的依赖包，以加载 &#x2F; 使用 ImageMagick</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%96%E6%B6%88%E9%98%BB%E6%AD%A2%E6%AF%8F%E4%B8%AA%E4%B8%8B%E8%BD%BD%E7%9A%84%E6%96%87%E4%BB%B6"><span class="toc-number">5.</span> <span class="toc-text">取消阻止每个下载的文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-imagick-%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F"><span class="toc-number">6.</span> <span class="toc-text">安装 Imagick 应用程序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96%E9%A1%B9"><span class="toc-number">7.</span> <span class="toc-text">安装依赖项</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-imagick-php-%E6%89%A9%E5%B1%95-dll"><span class="toc-number">8.</span> <span class="toc-text">安装 Imagick php 扩展 dll</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9-phpini"><span class="toc-number">9.</span> <span class="toc-text">修改 PHP.ini</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E6%96%B0%E5%90%AF%E5%8A%A8%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">10.</span> <span class="toc-text">重新启动服务器。</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95-phpinfo"><span class="toc-number">11.</span> <span class="toc-text">测试 PHPINFO</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8-php-%E4%B8%AD%E4%BD%BF%E7%94%A8-imagemagick-%E6%B5%8B%E8%AF%95%E5%9B%BE%E5%83%8F%E7%94%9F%E6%88%90"><span class="toc-number">12.</span> <span class="toc-text">在 PHP 中使用 ImageMagick 测试图像生成</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A3%80%E6%9F%A5%E9%94%99%E8%AF%AF"><span class="toc-number">13.</span> <span class="toc-text">检查错误</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pdf-%E6%96%87%E4%BB%B6%E9%9C%80%E8%A6%81-ghostscript"><span class="toc-number">14.</span> <span class="toc-text">PDF 文件需要 Ghostscript</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/p/35045/" title="Hugo 中文阅读时间计算模版"><img src="/img/loading.gif" data-lazy-src="/img/cover/cover129.webp" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Hugo 中文阅读时间计算模版"></a><div class="content"><a class="title" href="/p/35045/" title="Hugo 中文阅读时间计算模版">Hugo 中文阅读时间计算模版</a><time datetime="2025-10-20T06:00:00.000Z" title="发表于 2025-10-20 14:00:00">2025-10-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/p/20816/" title="手动重加载不蒜子计数"><img src="/img/loading.gif" data-lazy-src="/img/cover/cover018.webp" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="手动重加载不蒜子计数"></a><div class="content"><a class="title" href="/p/20816/" title="手动重加载不蒜子计数">手动重加载不蒜子计数</a><time datetime="2025-10-19T17:30:00.000Z" title="发表于 2025-10-20 01:30:00">2025-10-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/p/32982/" title="入坑舞萌 DX 历时两月终抵 w0 与首鸟加"><img src="/img/loading.gif" data-lazy-src="/img/cover/cover175.webp" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="入坑舞萌 DX 历时两月终抵 w0 与首鸟加"></a><div class="content"><a class="title" href="/p/32982/" title="入坑舞萌 DX 历时两月终抵 w0 与首鸟加">入坑舞萌 DX 历时两月终抵 w0 与首鸟加</a><time datetime="2025-10-04T18:56:50.000Z" title="发表于 2025-10-05 02:56:50">2025-10-05</time></div></div></div></div></div></div></main><footer id="footer" style="background:0 0"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2023 - 2025 By Asuna</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo 8.0.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.1</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://registry.npmmirror.com/@fancyapps/ui/latest/files/dist/fancybox/fancybox.umd.js"></script><script src="https://registry.npmmirror.com/instant.page/latest/files/instantpage.js" type="module"></script><script src="https://npm.elemecdn.com/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://npm.elemecdn.com/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>(()=>{const o="shuoshuo"===GLOBAL_CONFIG_SITE.pageType,t=(t=document,e=location.pathname)=>{twikoo.init({el:t.querySelector("#twikoo-wrap"),envId:"https://twikoo.saop.cc",region:"",onCommentLoaded:()=>{btf.loadLightbox(document.querySelectorAll("#twikoo .tk-content img:not(.tk-owo-emotion)"))},path:e}),"post"===GLOBAL_CONFIG_SITE.pageType&&(()=>{const o=document.getElementById("twikoo-count");o&&twikoo.getCommentsCount({envId:"https://twikoo.saop.cc",region:"",urls:[window.location.pathname],includeReply:!1}).then(t=>{o.textContent=t[0].count}).catch(o=>{console.error(o)})})(),o&&(window.shuoshuoComment.destroyTwikoo=()=>{t.children.length&&(t.innerHTML="",t.classList.add("no-comment"))})},e=(o,e)=>{"object"==typeof twikoo?setTimeout(()=>t(o,e),0):btf.getScript("https://registry.npmmirror.com/twikoo/latest/files/dist/twikoo.all.min.js").then(()=>t(o,e))};o?window.shuoshuoComment={loadComment:e}:e()})()</script><script>(()=>{let e=window.walineFn||null;const i="shuoshuo"===GLOBAL_CONFIG_SITE.pageType,t={locale:{nick:"昵称",mail:"邮箱",link:"网址",placeholder:"填写数字QQ邮箱可以自动获取QQ头像",requiredMeta:[],sofa:"评论区空空如也~",anonymous:"匿名的野猫",login:"登录(可选)"},emoji:["//registry.npmmirror.com/@waline/emojis/latest/files/alus","//registry.npmmirror.com/@waline/emojis/latest/files/bilibili","//registry.npmmirror.com/@waline/emojis/latest/files/bmoji","//registry.npmmirror.com/@waline/emojis/latest/files/qq","//registry.npmmirror.com/@waline/emojis/latest/files/tieba","//registry.npmmirror.com/@waline/emojis/latest/files/tw","//registry.npmmirror.com/@waline/emojis/latest/files/weibo","//registry.npmmirror.com/@waline/emojis/latest/files/soul-emoji"],reaction:!0},r=(e,r=document,o=window.location.pathname)=>{const s=e({el:r.querySelector("#waline-wrap"),serverURL:"https://waline.saop.cc",pageview:!1,dark:'html[data-theme="dark"]',comment:!0,...t,path:i?o:t&&t.path||o});i&&(window.shuoshuoComment.destroyWaline=()=>{s.destroy(),r.children.length&&(r.innerHTML="",r.classList.add("no-comment"))})},o=(i,t)=>{e?r(e,i,t):btf.getCSS("https://registry.npmmirror.com/@waline/client/latest/files/dist/waline.css").then(()=>import("https://registry.npmmirror.com/@waline/client/latest/files/dist/waline.js")).then(({init:o})=>{e=o||Waline.init,r(e,i,t),window.walineFn=e})};i?window.loadOtherComment=o:setTimeout(o,0)})()</script></div><script>window.newestComments={changeContent:e=>(""===e||(e=(e=(e=(e=(e=e.replace(/<img.*?src="(.*?)"?[^\>]+>/gi,"[图片]")).replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi,"[链接]")).replace(/<pre><code>.*?<\/pre>/gi,"[代码]")).replace(/<code>.*?<\/code>/gi,"[代码]")).replace(/<[^>]+>/g,"")).length>150&&(e=e.substring(0,150)+"..."),e),generateHtml:(e,t)=>{let n="";if(e.length)for(let t=0;t<e.length;t++){if(n+='<div class="aside-list-item">',e[t].avatar){const a="data-lazy-src",s="";n+=`<a href="${e[t].url}" class="thumbnail"><img ${a}="${e[t].avatar}" alt="${e[t].nick}" ${s}></a>`}n+=`<div class="content">\n        <a class="comment" href="${e[t].url}" title="${e[t].content}">${e[t].content}</a>\n        <div class="name"><span>${e[t].nick} / </span><time datetime="${e[t].date}">${btf.diffDate(e[t].date,!0)}</time></div>\n        </div></div>`}else n+="暂无评论";t.innerHTML=n,window.lazyLoadInstance&&window.lazyLoadInstance.update(),window.pjax&&window.pjax.refresh(t)},newestCommentInit:(e,t)=>{const n=document.querySelector("#card-newest-comments .aside-list");if(n){const a=btf.saveToLocal.get(e);a?newestComments.generateHtml(JSON.parse(a),n):t(n)}},run:(e,t)=>{newestComments.newestCommentInit(e,t),btf.addGlobalFn("pjaxComplete",()=>newestComments.newestCommentInit(e,t),e)}}</script><script>window.addEventListener("load",()=>{const t="twikoo-newest-comments",{changeContent:e,generateHtml:o,run:n}=window.newestComments;n(t,n=>{const i=()=>{twikoo.getRecentComments({envId:"https://twikoo.saop.cc",region:"",pageSize:3,includeReply:!0}).then(i=>{const a=i.map(t=>({content:e(t.comment),avatar:t.avatar,nick:t.nick,url:t.url+"#"+t.id,date:new Date(t.created).toISOString()}));btf.saveToLocal.set(t,JSON.stringify(a),10/1440),o(a,n)}).catch(t=>{console.error(t),n.textContent="无法获取评论，请确认相关配置是否正确"})};"object"==typeof twikoo?i():btf.getScript("https://registry.npmmirror.com/twikoo/latest/files/dist/twikoo.all.min.js").then(i)})})</script><script async src="https://registry.npmmirror.com/vue/2.7.16/files/dist/vue.min.js"></script><script async src="https://registry.npmmirror.com/element-ui/latest/files/lib/index.js"></script><script async type="text/javascript" src="https://registry.npmmirror.com/sweetalert2/latest/files/dist/sweetalert2.all.min.js"></script><script async src="https://registry.npmmirror.com/weblive2d/latest/files/js/autoload.js"></script><script async src="/js/custom.js"></script><meting-js class="no-destroy" id="8464409595" server="netease" type="playlist" fixed="true" autoplay order="random" volume="0.3" list-folded="false" list-max-height="36vh"></meting-js><script id="canvas_nest" defer color="0,200,255" opacity="0.7" zindex="-1" count="30" mobile="false" src="https://registry.npmmirror.com/butterfly-extsrc/latest/files/dist/canvas-nest.min.js"></script><script src="https://registry.npmmirror.com/butterfly-extsrc/latest/files/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!0,POWERMODE.mobile=!1,document.body.addEventListener("input",POWERMODE)</script><script id="click-show-text" src="https://registry.npmmirror.com/butterfly-extsrc/latest/files/dist/click-show-text.min.js" data-mobile="false" data-text="大懒狗,LINK START!,Asuna,亚丝娜,结城明日奈,桐人,桐谷和人,莉法,桐谷直叶,结衣,YUI,诗乃,朝田诗乃,有纪,绀野木绵季,尤吉欧,Sword Art Online,ALfheim Online,Gun Gale Online,Underworld,Ordinal Scale,刀剑神域,ソードアート・オンライン,绝剑,Alicization,FullDive,完全潜行,艾恩葛朗特.,これは、ゲームであっても遊びではない。,这虽然是游戏，但可不是闹着玩的。,缘之空,悠之空,ヨスガノソラ,Yosuga no Sora,春日野悠,春日野穹,天女目瑛,依媛奈绪,渚一叶,In solitude, where we are least alone.,奥木染,叉依姬神社" data-fontsize="15px" data-random="true" async></script><link rel="stylesheet" href="https://registry.npmmirror.com/aplayer/latest/files/dist/APlayer.min.css" media="print" onload='this.media="all"'><script src="https://registry.npmmirror.com/aplayer/latest/files/dist/APlayer.min.js"></script><script src="https://registry.npmmirror.com/meting/latest/files/dist/Meting.min.js"></script><script>btf.addGlobalFn("pjaxSend",()=>{if(window.aplayers)for(let a=0;a<window.aplayers.length;a++)window.aplayers[a].options.fixed||window.aplayers[a].destroy()},"destroyAplayer"),btf.addGlobalFn("pjaxComplete",loadMeting,"runMetingJS")</script><script src="https://npm.elemecdn.com/pjax/pjax.min.js"></script><script>(()=>{window.pjax=new Pjax({elements:'a:not([target="_blank"]):not([href="/movie/"]):not([href="/mai/"])',selectors:["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"],cacheBust:!1,analytics:!1,scrollRestoration:!1});const e=e=>{e&&Object.values(e).forEach(e=>{try{e()}catch(e){console.debug("Pjax callback failed:",e)}})};document.addEventListener("pjax:send",()=>{btf.removeGlobalFnEvent("pjaxSendOnce"),btf.removeGlobalFnEvent("themeChange");const t=document.body.classList;t.contains("read-mode")&&t.remove("read-mode"),e(window.globalFn.pjaxSend)}),document.addEventListener("pjax:complete",()=>{btf.removeGlobalFnEvent("pjaxCompleteOnce"),document.querySelectorAll("script[data-pjax]").forEach(e=>{const t=document.createElement("script"),a=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(a)),e.parentNode.replaceChild(t,e)}),e(window.globalFn.pjaxComplete)}),document.addEventListener("pjax:error",e=>{if(404===e.request.status){!0?pjax.loadUrl("/404"):window.location.href="/404"}})})()</script><script async data-pjax src="https://registry.npmmirror.com/js-asuna/latest/files/js/bsz.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span> 数据加载中</span></div><div class="local-search-input"><input placeholder="搜索文章" type="text"></div><hr><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><script src="https://registry.npmmirror.com/live2d-widget/latest/files/lib/L2Dwidget.min.js"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"https://registry.npmmirror.com/weblive2d/latest/files/model/asuna/asuna_46/index.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":false},"log":false});</script></body></html>